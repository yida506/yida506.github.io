{
    "version": "https://jsonfeed.org/version/1",
    "title": "菜b的爬虫记录 • All posts by \"加密算法\" category",
    "description": "",
    "home_page_url": "http://yida506.github.io",
    "items": [
        {
            "id": "http://yida506.github.io/2022/02/25/js%E5%8A%A0%E5%AF%86/",
            "url": "http://yida506.github.io/2022/02/25/js%E5%8A%A0%E5%AF%86/",
            "title": "js加密",
            "date_published": "2022-02-25T14:25:27.000Z",
            "content_html": "<h4 id=\"编码混淆\"><a class=\"anchor\" href=\"#编码混淆\">#</a> 编码混淆</h4>\n<h5 id=\"base系列\"><a class=\"anchor\" href=\"#base系列\">#</a> base 系列</h5>\n<h6 id=\"base64\"><a class=\"anchor\" href=\"#base64\">#</a> base64</h6>\n<p>以目前来看，最为常见的是 base64，结尾一般来讲都有一到 2 个等号，明文过短的时候就没有。</p>\n<p>js 端 (base64)：</p>\n<figure class=\"highlight javascript\"><figcaption data-lang=\"javascript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 明文：123</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token function\">btoa</span><span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">// 密文:'MTIz'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">// 解密</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token function\">atob</span><span class=\"token punctuation\">(</span><span class=\"token string\">'MTIz'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr></table></figure><p>python 端:</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> base64</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>test_str <span class=\"token operator\">=</span> <span class=\"token string\">'123'</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>encode_str <span class=\"token operator\">=</span> base64<span class=\"token punctuation\">.</span>encodebytes<span class=\"token punctuation\">(</span><span class=\"token string\">b'123'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#编码</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>encode_str<span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token comment\">#解码</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>decode_str <span class=\"token operator\">=</span> base64<span class=\"token punctuation\">.</span>decodebytes<span class=\"token punctuation\">(</span>encode_str<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>decode_str<span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><blockquote>\n<p>这里要输入加密字符串的二进制码，然后其输出的结果也是一个二进制码，要对其进行一个 decode () 操作。</p>\n</blockquote>\n<h6 id=\"unicode编码\"><a class=\"anchor\" href=\"#unicode编码\">#</a> Unicode 编码</h6>\n<p>以  <code>\\u</code> 、 <code>&amp;#</code>  或  <code>&amp;#x</code>  开头，后面是数字加字母组合。</p>\n<p><img data-src=\"js%E5%8A%A0%E5%AF%86/image-20220225225020052.png\" alt=\"image-20220225225020052\"></p>\n<h5 id=\"算法加密\"><a class=\"anchor\" href=\"#算法加密\">#</a> 算法加密</h5>\n<h6 id=\"md5\"><a class=\"anchor\" href=\"#md5\">#</a> MD5</h6>\n<p>本质上是一种信息摘要算法，对应关系为 n 对 1，也就是不同的数有相同的加密结果，但是一个数只会有唯一的加密值。密文一般是 16 或 32 位。</p>\n<p>md5 加密特征：</p>\n<ol>\n<li>0123456789ABCDEF、0123456789abcdef 的出现</li>\n<li>1732584193、-271733879、-1732584194、271733878 的出现</li>\n</ol>\n<blockquote>\n<p>至于为什么会有上述特征，后面在研究。</p>\n</blockquote>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> hashlib</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>m <span class=\"token operator\">=</span> hashlib<span class=\"token punctuation\">.</span>md5<span class=\"token punctuation\">(</span><span class=\"token string\">b'123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#202cb962ac59075b964b07152d234b70</span></pre></td></tr></table></figure><h6 id=\"sha系列\"><a class=\"anchor\" href=\"#sha系列\">#</a> SHA 系列</h6>\n<p>比 md5 长一些。</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> hashlib</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>m <span class=\"token operator\">=</span> hashlib<span class=\"token punctuation\">.</span>sha1<span class=\"token punctuation\">(</span><span class=\"token string\">b'123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#40bd001563085fc35165329ea1ff5c5ecbdbbeef</span></pre></td></tr></table></figure><h6 id=\"hmac系列\"><a class=\"anchor\" href=\"#hmac系列\">#</a> HMAC 系列</h6>\n<p>据说是在 md5、sha 系列的基础上引入秘钥。</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> hmac</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>m <span class=\"token operator\">=</span> hmac<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">b'key'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">b'123'</span><span class=\"token punctuation\">,</span> digestmod<span class=\"token operator\">=</span><span class=\"token string\">'MD5'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">#52851cb05258c8d98da1672d95729e53</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>n<span class=\"token operator\">=</span> hmac<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">b'key'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">b'123'</span><span class=\"token punctuation\">,</span> digestmod<span class=\"token operator\">=</span><span class=\"token string\">'SHA1'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>n<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token comment\">#d4a5b6721d75a5ac15ec698818c77fe1f6e40187</span></pre></td></tr></table></figure><h6 id=\"rsa加密\"><a class=\"anchor\" href=\"#rsa加密\">#</a> RSA 加密</h6>\n<p>非对称加密，使用公钥加密，然后用私钥解密，私钥加密的，可以用公钥解密。</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> rsa</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">rsaEncrypt</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token comment\"># 生成 512 位公钥、私钥</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token punctuation\">(</span>pubkey<span class=\"token punctuation\">,</span> privkey<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> rsa<span class=\"token punctuation\">.</span>newkeys<span class=\"token punctuation\">(</span><span class=\"token number\">512</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'公钥</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>pubkey<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">,私钥</span><span class=\"token interpolation\"><span class=\"token punctuation\">&#123;</span>privkey<span class=\"token punctuation\">&#125;</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    crypto <span class=\"token operator\">=</span> rsa<span class=\"token punctuation\">.</span>encrypt<span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> pubkey<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>crypto<span class=\"token punctuation\">,</span> privkey<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">rsaDecrypt</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">return</span> rsa<span class=\"token punctuation\">.</span>decrypt<span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">,</span>key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>decode<span class=\"token punctuation\">(</span><span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>text<span class=\"token punctuation\">,</span>pk <span class=\"token operator\">=</span> rsaEncrypt<span class=\"token punctuation\">(</span><span class=\"token string\">'123'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'密文'</span><span class=\"token punctuation\">,</span>text<span class=\"token punctuation\">,</span>pk<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>content<span class=\"token operator\">=</span>  rsaDecrypt<span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">,</span> pk<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'明文'</span><span class=\"token punctuation\">,</span> content<span class=\"token punctuation\">)</span></pre></td></tr></table></figure><p>在 js 中，有一个明显的特征就是设置公钥。</p>\n<h6 id=\"des加密\"><a class=\"anchor\" href=\"#des加密\">#</a> DES 加密</h6>\n",
            "tags": []
        }
    ]
}